<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Compiling the ooc compiler (Advanced)</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"/><LINK
REL="HOME"
TITLE="ooc v0.2.1 ninja Compiler Manual"
HREF="book1.htm"/><LINK
REL="PREVIOUS"
TITLE="Consider all the options"
HREF="x164.htm"/><LINK
REL="NEXT"
TITLE="GNU Free Documentation License"
HREF="a206.htm"/></HEAD
><BODY
CLASS="chapter"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>ooc v0.2.1 ninja Compiler Manual</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x164.htm"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="a206.htm"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"/></DIV
><DIV
CLASS="chapter"
><H1
><A
NAME="AEN167"
></A
>Chapter 4. Compiling the ooc compiler (Advanced)</H1
><P
>The easiest way to develop/improve the ooc compiler is to run it
    from jar. A setup like this one is recommended on people who want to
    develop the compiler:</P
><PRE
CLASS="programlisting"
>$ ln -s /opt/ooc/bin/ooc /usr/bin/ooc
$ cp /opt/ooc/utils/launch-script.sh /usr/bin/ooc-jar
$ vim /usr/bin/ooc-jar #set the correct path to the jar, e.g. /opt/ooc/bin/ooc.jar by default
$ ooc helloworld.ooc #run with the gcj-compiled
$ ooc-jar helloworld.ooc #run with the ant-generated jar version</PRE
><P
>A few guidelines when working on the ooc compiler:a</P
><P
></P
><UL
><LI
><P
>Checkout the git repository. <SPAN
CLASS="bold"
><B
CLASS="emphasis"
>Never</B
></SPAN
> work from a release. <A
HREF="http://github.com/amoswenger/ooc"
TARGET="_top"
>http://github.com/amoswenger/ooc</A
></P
></LI
><LI
><P
>It has already an Eclipse .project file, so import it, don't
        create your own project file.</P
></LI
><LI
><P
>You may need the ubi library, which can be found at : <A
HREF="http://github.com/amoswenger/ubi"
TARGET="_top"
>http://github.com/amoswenger/ubi</A
></P
></LI
><LI
><P
>There is an ant buildfile to generate the
        <TT
CLASS="filename"
>bin/ooc.jar</TT
> file</P
></LI
><LI
><P
>There is a Makefile to generate the <TT
CLASS="filename"
>bin/ooc</TT
>
        or <TT
CLASS="filename"
>bin/ooc.exe</TT
> excutable. You need ant, a recent
        gcj (go for 4.3 at least).</P
></LI
><LI
><P
>There is also a Makefile in doc/ to build the .html files from
        the .xml ones.</P
></LI
><LI
><P
>Try to follow Sun's conventions, but not to the point of
        becoming stupid</P
></LI
><LI
><P
>If you're working on something, report is a bug/blueprint on
        launchpad first, so we can all track your progress.a</P
></LI
><LI
><P
>If you think there may be a bug in your code SAY IT IN THE
        COMMENTS. There is no shame, but commenting helps greatly to spot
        it.</P
></LI
><LI
><P
>Don't enable by default bugged behavior (perfect example:
        MemberUnwrappingFeature and NullCheckFeature are commented, for the
        time being)</P
></LI
><LI
><P
>Think before doing. Study the code. What you have mind may be
        half done in another corner of the code.</P
></LI
><LI
><P
>Keep in mind that the java implementation of the compiler is
        only a start. The real hardcore stuff will be going here: <A
HREF="http://github.com/amoswenger/rock"
TARGET="_top"
>http://github.com/amoswenger/rock</A
></P
></LI
></UL
><DIV
CLASS="warning"
><P
></P
><TABLE
CLASS="warning"
BORDER="1"
WIDTH="100%"
><TR
><TD
ALIGN="CENTER"
><B
>Warning</B
></TD
></TR
><TR
><TD
ALIGN="LEFT"
><P
>If you compile with the default Makefile, you may find that -lgcj
      is lacking. That is apparently a very often encountered issue. Just
      remove the -static-libgcj flag in the Makefile, and it should compile
      fine.</P
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"/><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x164.htm"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.htm"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="a206.htm"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Consider all the options</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>GNU Free Documentation License</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>